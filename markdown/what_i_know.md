# 知ってること/やったこと
- GStreamer のビルド環境の構築/デバッグビルドをやったので lldb でのデバッグや、ログの挿入などができるようになった。
- コンセプト
  - Element が基本的な機能を担当、これをパイプみたいに繋いでいくことで、ファイルの中身が順次処理され
  - Pad が Element と Element を接続する役割
    - データが入る方が sink 出る方が src と呼ばれる。　
    - Pad は通過するデータの形式を caps という形式で制限する
      - この Pad 同士が繋がるかどうかネゴシエートすることを Caps Negotiation という

# 知らないこと/やりたいこと
- GStreamer のログを入れて、 GST\_DEBUG でフィルタリングできるようにするやり方
  - 調べればすぐわかりそうだし、前コードのどこかで読んだ。 WARN > DEBUG > LOG > TRACE みたいな感じだったけど、番号の対応を忘れた
  - 確か macro で定義されてた
- Caps Negotiation について、繋がると思っていたけど繋がらなかったり、 pipeline を文字列で書くやつで複数の pad がある要素同士を繋いだらうまくいかない時もある。ここはちゃんと勉強しておかないといけない

# へ〜ってこと（そんなに重要じゃないこと）
- GLib 2.0 をベースに書かれている
  - 自分で以下のような名前の関数やマクロを作っていく感じで
    - `MY\_OBJECT\_FOOBAR`
    - `my\_object\_foobar(MyObject *self, gint param)
  - struct を作って、そのポインタに G_OBJECT_CLASS とか g_object_class_install_property などを使って GLib のクラスとして使えるようにしていく感じ
- GObject の拡張性がいい
- plugins は dylib で動的ロードされ、追加可能らしいが、具体的にその周りのコードや仕様を読んでない
  - ヘッダファイルがなくても読み込めるらしい
    - `gst\_plugin_<plugin_name>_init` みたいにプラグインごとにシンボルを決め打ちで呼ぶ感じっぽい
- GSlice というメモリアロケータを使っていて動画のフレームのような細かいメモリの alloc free に向いているらしい
- プラグインはメディアの実際の機能は何もなくコアな機能のみで、メディア関連の機能は全てプラグイン
  - いろんな codec の開発環境としても使われたいし、使われている

